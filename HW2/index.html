<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>動態封裝表格</title>

    <style type="text/css">
        #box table {
            border-collapse: collapse;
            text-align: center;
        }
    </style>

</head>

<body>

    <div id="box">

    </div>

    <script type="text/javascript">
        //表中的數據項
        var bodyData = [{
                Country: "台灣",
                Confirmed: "455",
                Recovery: "440",
                Death: "7"
            },
            {
                Country: "美國",
                Confirmed: "397萬",
                Recovery: "116萬",
                Death: "14.4萬"
            },
            {
                Country: "巴西",
                Confirmed: "217萬",
                Recovery: "147萬",
                Death: "81,597"
            },
            {
                Country: "印度",
                Confirmed: "119萬",
                Recovery: "75.3萬",
                Death: "28,732"
            },
            {
                Country: "俄羅斯",
                Confirmed: "78.9萬",
                Recovery: "57.2萬",
                Death: "12,745"
            },
        ];
        //定義表頭內容
        var headData = ["地區", "已確診", "康復人數", "死亡人數"];


        var box = document.getElementById("box");

        creatTable(box, headData, bodyData);


        function creatTable(parent, headData, bodyData) {

            var table = creatHead(parent, headData); //thead
            creatBody(table, bodyData); //tbody

        }
        //定義創建表頭的函數
        function creatHead(parent, headData) {
            // table標籤產生
            var table = document.createElement("table");
            parent.appendChild(table);
            table.border = "1px";
            table.width = "500px";

            // thead標籤產生
            var thead = document.createElement("thead");
            table.appendChild(thead);
            // thead中tr產生
            var tr = document.createElement("tr");
            thead.appendChild(tr);
            tr.style.height = "35px";
            tr.style.background = "lightgray";

            // thead資料填入 th
            headData.forEach(function (item) {
                // th標籤產生
                var th = document.createElement("th");
                tr.appendChild(th);
                th.innerHTML = item;
            })
            return table;
        }

        // 將tbody資料塞入 table
        function creatBody(table, bodyData) {
            // tbody區域產生
            var tbody = document.createElement("tbody");
            table.appendChild(tbody);

            // 針對物件陣列，每一物件依序將資料寫入
            bodyData.forEach(function (item) {
                // tbody中tr標籤產生 
                tr = document.createElement("tr");
                tbody.appendChild(tr);
                // 產生td
                for (var index in item) {
                    var td = document.createElement("td");
                    tr.appendChild(td);
                    td.innerHTML = item[index];
                }
            })
        };
    </script>
</body>

</html>